import supertest, { SuperTest } from 'supertest'
import app from '../src/app'

const request: SuperTest<any> = supertest(app)

describe('Users API', () => {
	describe('User Authentication', () => {
		it('registers new account successfully', (done) => {
			request
				.post('/users/register')
				.send({ username: 'firstman', password: 'C00lc4t123$%^' })
				.expect(200)
		})

		it('error on invalid account registration', (done) => {
			request
				.post('/users/register')
				.send({ username: 'bad usern4me,.?', password: 'abc123' })
				.expect(200)
		})

		// it('gives valid session token', (done) => {})

		// it('error on invalid session token request', (done) => {})

		// it('gives valid refresh token', (done) => {})

		// it('error on invalid refresh token request', (done) => {})

		// it('logs in successfully', (done) => {})

		// it('error on invalid login', (done) => {})

		// it('logs out successfully', (done) => {})
	})

	// describe('User Info', () => {
	// 	it('gets list of users', (done) => {})
	// 	it('gets user by ID', (done) => {})
	// })

	// describe('User Activity', () => {
	// 	it('successfully follow other users', (done) => {})
	// 	it('gets user by ID', (done) => {})
	// })

	// describe('Account Management', () => {
	// 	it('deletes user account successfully', (done) => {})
	// })
})
